<template>
  <section class="screen-card">
    <h1>ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚ ğŸ’—</h1>
    <p>Ğ¦ĞµĞ¹ ÑĞ°Ğ¹Ñ‚ Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ´Ğ»Ñ Ğ¾Ğ´Ğ½Ñ–Ñ”Ñ— Ğ»ÑĞ´Ğ¸Ğ½Ğ¸. Ğ¢Ğ¸ â€” Ğ’Ñ–Ñ‚Ğ°Ğ»Ñ–Ğº?</p>
    <div class="row-buttons">
      <button class="pixel-btn" @click="goNext">Ğ¢Ğ°Ğº ğŸ˜¼</button>
      <button class="pixel-btn ghost" @click="goNext">Ğ Ñ…Ñ‚Ğ¾ Ğ¿Ğ¸Ñ‚Ğ°Ñ”? ğŸ‘€</button>
    </div>
    <button class="pixel-btn audio" @click="activateAudio">{{ audioButtonText }}</button>
  </section>
</template>

<script setup>
import { computed, ref } from 'vue'
import { playClick, toggleAudio } from '../lib/audio'

const emit = defineEmits(['next'])
const audioEnabled = ref(false)

const audioButtonText = computed(() => (audioEnabled.value ? 'Ğ’Ğ¸Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº ğŸ”‡' : 'Ğ£Ğ²Ñ–Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº ğŸ”Š'))

function goNext() {
  playClick()
  emit('next')
}

function activateAudio() {
  const state = toggleAudio()
  audioEnabled.value = state
}
</script>
